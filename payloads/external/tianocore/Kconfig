if PAYLOAD_TIANOCORE

config PAYLOAD_FILE
	string "Tianocore binary"
	default "payloads/external/tianocore/tianocore/Build/UEFIPAYLOAD.fd"
	help
	  The result of a corebootPkg build

choice
	prompt "Tianocore payload"
	default TIANOCORE_COREBOOTPAYLOAD
	help
	  Select which type of payload Tianocore will build (default is CorebootPayload)
	  CorebootPayload: MrChromebox's customized version of Tianocore which works on most
	  (all?) x86_64 devices
	  UEFIPayload: Use upstream Tianocore payload from https://github.com/tianocore/edk2

config TIANOCORE_COREBOOTPAYLOAD
	bool "CorebootPayload"
	help
	  Select this option to build using MrChromebox's custom Tianocore tree
	  i.e. a version of Tianocore that builds without any errors and just works.

config TIANOCORE_UEFIPAYLOAD
	bool "UEFIPayload"
	help
	  Select this option if you want to use upstream EDK2 to build Tianocore.

endchoice

config TIANOCORE_REVISION_ID
	string "Insert a commit's SHA-1 or a branch name"
	help
	   The commit's SHA-1 or branch name of the revision to use. Choose "upstream/master"
	   for master branch of Tianocore release on github.

choice
	prompt "Target architecture"
	default TIANOCORE_TARGET_X64
	help
	  The Tianocore coreboot Payload Package binary can be
	  built for either only IA32 or both X64 and IA32 architectures.
	  Select which architecture(s) to build for; default is to build
	  for both X64 and IA32.

config TIANOCORE_TARGET_IA32
	bool "IA32"
	help
	  By selecting this option, the target architecture will be built
	  for only IA32.

config TIANOCORE_TARGET_X64
	bool "X64"
	help
	  By selecting this option, the target architecture will be built
	  for X64 and IA32.

endchoice

config EDK2_USE_EDK2_PLATFORMS
	bool "Use edk2-platforms repository"
	default n
	help
	  Clone edk2-platforms repository to the edk2 workspace for additional modules.

if EDK2_USE_EDK2_PLATFORMS

config EDK2_PLATFORMS_REPOSITORY
	string "URL to git repository for edk2-platforms"
	default "https://github.com/tianocore/edk2-platforms"
	help
	  URL to the edk2-platfors repository to clone.

config EDK2_PLATFORMS_TAG_OR_REV
	string "Insert a commit's SHA-1 or a branch name"
	default "origin/master"
	help
	  The commit's SHA-1 or branch name of the revision to use. This must exist in
	  EDK2_PLATFORMS_REPOSITORY, and in the case of a branch name, prefixed with
	  origin i.e. "origin/master"

endif

choice
	prompt "Tianocore build"
	default TIANOCORE_RELEASE
	help
	  Select whether to generate a debug or release build for
	  Tianocore; default is to generate a release build.

config TIANOCORE_DEBUG
	bool "Generate Tianocore debug build"
	help
	  Generate a debug build.

config TIANOCORE_RELEASE
	bool "Generate Tianocore release build"
	help
	  Generate a release build.

endchoice

config TIANOCORE_USE_8254_TIMER
	bool "TianoCore 8254 Timer"
	help
	  Use 8254 Timer for legacy support.

config TIANOCORE_BOOTSPLASH_IMAGE
	bool "Use a custom bootsplash image"
	help
	  Select this option if you have a bootsplash image that you would
	  like to be used. If this option is not selected, the default
	  coreboot logo (European Brown Hare) will used.

config TIANOCORE_BOOTSPLASH_FILE
	string "Tianocore Bootsplash path and filename"
	depends on TIANOCORE_BOOTSPLASH_IMAGE
	default "bootsplash.bmp"
	help
	  The path and filename of the file to use as graphical bootsplash
	  screen. The file format must be uncompressed BMP, and the file's
	  resolution must be less than the native resolution of the display.

	  If an absolute path is not given, the path will assumed to be
	  relative to the coreboot root directory.

config TIANOCORE_BOOT_TIMEOUT
	int "TianoCore boot timeout"
	default 2
	help
	  The length of time in seconds for which the boot splash/menu prompt will be displayed.
	  For boards with an internal display, the default value of 2s is generally sufficient.
	  For boards without an internal display, a value of 5s is generally sufficient.

config TIANOCORE_ENABLE_IPXE
	bool "Include iPXE in Tianocore payload"
	default y
	help
	  Includes a prebuilt iPXE for EFI to the TianoCore payload.

config TIANOCORE_SECURE_BOOT
	bool "Enable TianoCore Secure Boot"
	depends on SMMSTORE_V2
	default n
	help
	  Enables UEFI Secure Boot image verification in TianoCore Payload.

config TIANOCORE_SATA_PASSWORD
	bool "Enable TianoCore SATA disk password"
	default n
	help
	  Enable SATA disk password suupport in the TianoCore payload.

config TIANOCORE_OPAL_PASSWORD
	bool "Enable TianoCore TCG OPAL password"
	default n
	help
	  Enables TCG OPAL disk password in the TianoCore Payload.

config EDK2_DASHARO_USB_CONFIG
	bool "Enable EDK2 Dasharo USB Configuration Menu"
	default n
	help
	  Enables the EDK2 USB stack configuration submenu in Dasharo System Features.

config EDK2_CUSTOM_BUILD_PARAMS
	string "edk2 additional custom build parameters"
	default "-D VARIABLE_SUPPORT=SMMSTORE" if EDK2_UEFIPAYLOAD && SMMSTORE_V2
	help
	  edk2 has build options that are not modified by coreboot, and these can be
	  found in `UefiPayloadPkg/UefiPayloadPkg.dsc`. Forks may also support
	  additional build options that should have been upstreamed but have not.

	  This option can support both macros `-D` and Pcds `--pcd`.

config TIANOCORE_BOOT_MENU_KEY
	hex "TianoCore boot menu key"
	default 0x0016
	help
	  Select the TianoCore payload boot menu key:
	  UP         0x0001
	  DOWN       0x0002
	  RIGHT      0x0003
	  LEFT       0x0004
	  HOME       0x0005
	  END        0x0006
	  INSERT     0x0007
	  DELETE     0x0008
	  F1         0x000B
	  F2         0x000C
	  F3         0x000D
	  F4         0x000E
	  F5         0x000F
	  F6         0x0010
	  F7         0x0011
	  F8         0x0012
	  F9         0x0013
	  F10        0x0014
	  F11        0x0015
	  F12        0x0016
	  ESC        0x0017

config TIANOCORE_SETUP_MENU_KEY
	hex "TianoCore setup menu key"
	default 0x0017
	help
	  Select the TianoCore payload setup menu key:
	  UP         0x0001
	  DOWN       0x0002
	  RIGHT      0x0003
	  LEFT       0x0004
	  HOME       0x0005
	  END        0x0006
	  INSERT     0x0007
	  DELETE     0x0008
	  F1         0x000B
	  F2         0x000C
	  F3         0x000D
	  F4         0x000E
	  F5         0x000F
	  F6         0x0010
	  F7         0x0011
	  F8         0x0012
	  F9         0x0013
	  F10        0x0014
	  F11        0x0015
	  F12        0x0016
	  ESC        0x0017

endif
